package metaprogramming.generator;

import metaprogramming.antlr.*;

import java.io.BufferedReader;
import java.io.File;
import java.io.FileReader;
import java.io.IOException;

import org.antlr.v4.runtime.ANTLRInputStream;
import org.antlr.v4.runtime.CommonTokenStream;

public class Generate {

	public static void main(String[] args) {
		// TODO Auto-generated method stub

		String dataJava = 
				loadSourceFile ("src/metaprogramming/source/Data.java");
		String dataFieldJava = 
				loadSourceFile ("src/metaprogramming/source/DataField.java");
		String dataFieldPanelJava = 
				loadSourceFile ("src/metaprogramming/source/DataFieldPanel.java");
		String FirstNameComparatorJava =
				loadSourceFile ("src/metaprogramming/source/FirstNameComparator.java");
		String SimpleDataViewerJava =
				loadSourceFile ("src/metaprogramming/source/SimpleDataViewer.java");
	}
	
	public static String loadSourceFile (String path){
		
		String source = "";
		
		try{
			File f = new File (path);
			FileReader fr = new FileReader (f);
			BufferedReader br = new BufferedReader(fr);
			
			String line = "";
			line = br.readLine();
			
			while (line != null){
				source += line;
				line = br.readLine();
			}
			
			br.close();
			fr.close();
			
		}catch(IOException e){
			e.printStackTrace();
		}
		
		return source;
	}

	public static Java8Parser processJava (String source){
		
		ANTLRInputStream antlrInput = new ANTLRInputStream();
		Java8Lexer lexer = new Java8Lexer (antlrInput);
		CommonTokenStream tokenStream = new CommonTokenStream(lexer);
		Java8Parser parser = new Java8Parser(tokenStream);
		
		return parser;
	}
	
}
